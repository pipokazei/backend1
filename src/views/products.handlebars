<h1 class="text-2xl font-bold">Productos</h1>

<form id="product-form" class="mt-4 space-y-2">
  <input name="title" placeholder="Título" required class="border p-1" />
  <input
    name="description"
    placeholder="Descripción"
    required
    class="border p-1"
  />
  <input name="code" placeholder="Código" required class="border p-1" />
  <input
    name="price"
    type="number"
    placeholder="Precio"
    required
    class="border p-1"
  />
  <input
    name="stock"
    type="number"
    placeholder="Stock"
    required
    class="border p-1"
  />
  <input name="category" placeholder="Categoría" required class="border p-1" />
  <input
    name="thumbnails"
    placeholder="URLs separadas por coma"
    class="border p-1"
  />
  <button
    type="submit"
    class="bg-blue-600 text-white px-4 py-1"
  >Agregar</button>
</form>

<div id="product-list" class="grid grid-cols-1 md:grid-cols-3 gap-4 mt-4">
  {{#each products}}
    <div class="border p-3 shadow">
      <a
        href="/products/{{this._id}}"
        class="text-blue-600 underline"
      >{{this.title}}</a>
      <p>{{this.description}}</p>
      <p>Precio: ${{this.price}}</p>
    </div>
  {{/each}}
</div>

<div style="margin-top: 2rem;">
  {{#if hasPrevPage}}
    <a href="/?page={{prevPage}}">&laquo; Página anterior</a>
  {{/if}}

  <span style="margin: 0 1rem;">Página {{page}}</span>

  {{#if hasNextPage}}
    <a href="/?page={{nextPage}}">Página siguiente &raquo;</a>
  {{/if}}
</div>

<script src="/socket.io/socket.io.js"></script>
<script src="/products.js"></script>